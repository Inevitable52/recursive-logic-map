<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Percy AI Interface</title>
  <style>
    html, body {
      margin: 0; padding: 0; width: 100%; height: 100%;
      background: #0a0a0f; color: #fff; font-family: Arial, sans-serif;
      overflow: hidden;
    }
    #logic-map { position: relative; width: 100%; height: 100%; overflow: hidden; }
    #logic-nodes { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; height: 100%; }

    .node {
      position: absolute; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; cursor: pointer; text-align: center;
      user-select: none; transition: transform .15s ease, filter .15s ease;
      backdrop-filter: blur(1px);
      color: #fff; border: 2px solid currentColor;
      box-shadow: 0 0 6px currentColor, 0 0 14px currentColor, inset 0 0 12px rgba(255,255,255,0.08);
      background: radial-gradient(100% 100% at 30% 30%, rgba(255,255,255,0.10), rgba(0,0,0,0.10));
    }
    .node:hover { transform: scale(1.08); filter: brightness(1.15); }
    .node:active { transform: scale(0.98); }

    .cyan-bubble{ color:#00eaff; }
    .blue-bubble{ color:#27a0ff; }
    .magenta-bubble{ color:#ff4af0; }
    .red-bubble{ color:#ff3b3b; }
    .orange-bubble{ color:#ff9d2e; }
    .yellow-bubble{ color:#ffe44a; }
    .pink-bubble{ color:#ff6bd8; }

    #percy-console {
      position: fixed; bottom: 0; left: 0; width: 100%; max-height: 200px;
      overflow-y: auto; background: rgba(10,10,15,0.95); padding: 8px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 12px; border-top: 1px solid #333;
    }
    .console-line { margin: 2px 0; color: #d6d8ff; }
    #percy-message { position: fixed; top: 0; left: 0; width: 100%; padding: 6px 12px; background: rgba(0,0,0,0.6); font-size: 14px; color: #fff; }
    input { box-sizing: border-box; }
  </style>
</head>
<body>

  <div id="logic-map">
    <div id="logic-nodes"></div>
  </div>

  <div id="percy-message"></div>
  <div id="percy-console"></div>

  <input id="seed-search" placeholder="Search seeds..." style="position:fixed;top:36px;right:12px;padding:6px;width:200px;background:#111;border:1px solid #333;color:#fff;">
  <input id="interpreter-input" placeholder="Type command or ask Percy..." style="position:fixed;top:66px;right:12px;padding:6px;width:200px;background:#111;border:1px solid #333;color:#fff;" onkeydown="if(event.key==='Enter'){ interpretLogic(); }">

  <!-- Puppeteer and Percy JS -->
  <script src="percy.js"></script>

  <script>
    // Minimal bootstrapping in HTML
    // Percy will load seeds, build nodes, start autonomy loop, and self-mod if needed

    window.addEventListener('DOMContentLoaded', async () => {
      // Expose basic interactive commands
      window.interpretLogic = () => {
        const val = document.getElementById('interpreter-input').value.trim();
        if(val) { percyRespond('User', { message: val }); document.getElementById('interpreter-input').value = ''; }
      };

      UI.say("ðŸš€ HTML interface ready for Percy.");
    });

    // Simple hotkey for Percy to rewrite self
    document.addEventListener('keydown', e => {
      if(e.ctrlKey && e.key === 'r') { 
        e.preventDefault(); 
        rewriteSelf(); 
      }
    });
  </script>

</body>
</html>
